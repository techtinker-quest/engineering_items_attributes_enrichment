version: '3.8'

services:
  drawing-intelligence:
    build:
      context: ..
      dockerfile: deployment/Dockerfile
    container_name: drawing-intelligence
    volumes:
      - ../data:/app/data
      - ../output:/app/output
      - ../logs:/app/logs
      - ../models:/app/models
    environment:
      - ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY}
      - OPENAI_API_KEY=${OPENAI_API_KEY}
      - GOOGLE_API_KEY=${GOOGLE_API_KEY}
      - PYTHONUNBUFFERED=1
    command: python -m src.drawing_intelligence.cli.main --help
    restart: unless-stopped